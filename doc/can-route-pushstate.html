<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE -- ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: [object Object]
	@module can-route-pushstate
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	
	<link rel="stylesheet" type="text/css" href="./static/bundles/bit-docs-site/static.css">
	
</head>

<body>
  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger">Menu</label>
  <header><nav class="navbar">
	<a class="brand" href="../index.html">CanJS</a>

	<ul class="bitovi-menu">
		<li class="dropdown">
			<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
			<ul class="dropdown-menu">
				<li><a href="http://bitovi.com">Bitovi.com</a></li>
				<li><a href="http://bitovi.com/blog/">Blog</a></li>
				<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
				<li><a href="http://bitovi.com/training/">Training</a></li>
				<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
			</ul>
		</li>
	</ul>

	<ul class="navbar-items">
		<li class="dropdown">
				<a href="http://github.com/canjs/canjs">Github</a>
				<ul class="dropdown-menu">
      		<li><a href="http://github.com/canjs/can-connect">can-connect</a></li>
					<li><a href=".">can-set</a></li>
					<li><a href=".">can-compute</a></li>
					<li><a href=".">can-component</a></li>
				</ul>
		</li>
		<li>
			<a href="https://gitter.im/canjs/canjs">Chat</a>
		</li>
		<li>
			<a href="http://forums.donejs.com/c/canjs">Forum</a>
		</li>
	</ul>

</nav>
</header>
  	<div class="main-container">
  
  	<nav class="sidebar">
    
        
	<ul>
		
			
				
					<li class="
                               parent
                               expanded">
						<a class="page"
							href="can-core.html">
							Core
						</a>
						
							
	<ul>
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-component.html">
							can-component
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-compute.html">
							can-compute
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-connect.html">
							can-connect
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-construct.html">
							can-construct
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-define.html">
							can-define
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-define/list/list.html">
							can-define/list/list
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-define/map/map.html">
							can-define/map/map
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="function"
							href="can-route.html">
							can-route
						</a>
						
					</li>
				

			
		
			
				
					<li class="current
                               parent
                               expanded">
						<a class="module"
							href="can-route-pushstate.html">
							can-route-pushstate
						</a>
						
							

						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-set.html">
							can-set
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-stache.html">
							can-stache
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="module"
							href="can-stache-bindings.html">
							can-stache-bindings
						</a>
						
					</li>
				

			
		
	</ul>


						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="page"
							href="can-ecosystem.html">
							Ecosystem
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="page"
							href="can-infrastructure.html">
							Infrastructure
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="page"
							href="can-legacy.html">
							Legacy
						</a>
						
					</li>
				

			
		
			
				
					<li class="
                               
                               ">
						<a class="page"
							href="guides.html">
							Guides
						</a>
						
					</li>
				

			
		
	</ul>


    
</nav>
  

  <div class="content-container">
    <article>
    	
    		<section class="title">
	<h1>can-route-pushstate</h1>
</section>

    	

        

    	
    		
    			<section class="description">
    <p>Changes <a href="https://github.com/canjs/can-route">can-route</a> to use <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history">pushstate</a>
to change the window's <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLUtils.pathname">pathname</a> instead
of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLUtils.hash">hash</a>.</p>
<pre><code class="language-js">var route = require(&quot;can-route-pushstate&quot;);

route(&quot;:page&quot;, { page: &quot;home&quot; });
route.ready();

route.attr(&quot;page&quot;, &quot;user&quot;);

location.pathname; // -&gt; &quot;/user&quot;
</code></pre>

</section>

    		
    	

    
    
    
    <div class="signature">
  <h2 class="signature-title"><code>Object</code></h2>
  
  
  
  
  
  
  
  <div class="options">
  <h3>Options</h3>
    <ul>
    
      <li>
        <b>The</b> <code>{Object}</code>:
        <p>pushstate object comprises several properties that configure the behavior of <a href="can-route.html">can-route</a> to work with <code>history.pushstate</code>.</p>

      </li>
    
    </ul>
  </div>
  
</div>
    
    
    


    	
    		
    			<section class="body">
    <h2>Use</h2>
<p>The pushstate plugin uses the same API as <a href="can-route.html">can-route</a>. To start using pushstate plugin all you need is to import <code>can-route-pushstate</code>, it will set itself as default binding on [can.route].</p>
<p>You can check current binding by inspecting <code>route.currentBinding</code>, the default value is <code>&quot;hashchange&quot;</code>.</p>
<h3>Creating and changing routes</h3>
<p>To <a href="route.html#section_CreatingaRoute">create</a> route use <code>route(url, defaults)</code> like:</p>
<pre><code class="language-js">route(&quot;:page&quot;, {page: 'homepage'});
route(&quot;contacts/:username&quot;);
route(&quot;books/:genre/:author&quot;);
route.ready(); // do not forget to initialize can-route
</code></pre>
<p>Do not forget to <a href="route.ready.html">initialize</a> can-route after creating all routes, do it by calling <code>route.ready()</code>.</p>
<p>List of defined routes is contained in <code>route.routes</code>, you can examine current route state by calling:</p>
<pre><code class="language-js">route.attr(); //-&gt; {page: &quot;homepage&quot;, route: &quot;:page&quot;}
</code></pre>
<p>After creating routes and initializing can-route you can update current route by calling <code>route.attr(attr, newVal)</code>:</p>
<pre><code class="language-js">route.attr('page', 'about');
route.attr(); //-&gt; {page: &quot;about&quot;, route: &quot;:page&quot;}

// without cleaning current route state
route.attr('username', 'veljko');
route.attr(); //-&gt; {page: &quot;about&quot;, route: &quot;:page&quot;, username: 'veljko'}

// with cleaning current can-route state
route.attr({username: 'veljko'}, true);
route.attr(); //-&gt; {username: &quot;veljko&quot;, route: &quot;contacts/:username&quot;}
</code></pre>
<p>To update multiple attributes at once pass hash of attributes to <code>route.attr(hashOfAttrs, true)</code>. Pass <code>true</code> as second argument to clean up current state.</p>
<pre><code class="language-js">route.attr({genre: 'sf', author: 'adams'}, true);
route.attr(); //-&gt; {genre: &quot;sf&quot;, author: &quot;adams&quot;, route: &quot;books/:genre/:author&quot;}
</code></pre>
<p><code>window.location</code> acts as expected:</p>
<pre><code class="language-js">window.location.pathname; //-&gt; &quot;/books/sf/adams&quot;
window.location.hash; //-&gt; &quot;&quot;, hash remains unchanged
</code></pre>
<p>To generate urls use <code>route.url({attrs})</code>:</p>
<pre><code class="language-js">route.url({username: 'justinbmeyer'}); //-&gt; '/contacts/justinbmeyer'
</code></pre>
<h3>Listening changes on matched route</h3>
<p>As can-route is basically a <a href="can-map.html">can-map</a> that represents <code>window.location.pathname</code>, you can bind on it in the same way you would on any can.Map object.</p>
<p>To listen on any changes on <code>route</code> use <code>route.bind('change', callback)</code>, the following params will be passed to callback function:</p>
<pre><code class="language-js">route.bind('change', function(ev, attr, how, newVal, oldVal) {
    //-&gt; ev:     {EventObject}
    //-&gt; attr:   'username'
    //-&gt; how:    'change'
    //-&gt; newVal: 'veljko'
    //-&gt; oldVal: undefined
});

route.attr({username: 'veljko'}, true);
</code></pre>
<p>You can also bind to specific attribute on can-route:</p>
<pre><code class="language-js">route.bind('username', function(ev, newVal, oldVal) {
    //-&gt; ev:     {EventObject}
    //-&gt; newVal: 'nikica'
    //-&gt; oldVal: 'veljko'
});

route.attr({username: nikica}, true);
</code></pre>
<h3>Using different pathname root</h3>
<p>Pushstate plugin has one additional property, <code>route.bindings.pushstate.root</code>, which specifies the part of that pathname that should not change. For example, if we only want to have pathnames within <code>http://example.com/contacts/</code>, we can specify a root like:</p>
<pre><code class="language-js">route.bindings.pushstate.root = &quot;/contacts/&quot;
route(&quot;:page&quot;);
route.url({page: &quot;list&quot;}) //-&gt; &quot;/contacts/list&quot;
route.url({foo: &quot;bar&quot;})   //-&gt; &quot;/contacts/?foo=bar&quot;
</code></pre>
<p>Now, all routes will start with <code>&quot;/contacts/&quot;</code>, the default <code>route.bindings.pushstate.root</code> value is <code>&quot;/&quot;</code>.</p>
<h2>Planning route structure</h2>
<p>Complications can arise if your route structure mimics the folder structure inside your app's public directory.  For example, if you have a folder structure like the one in this url for your admin app...</p>
<p><code>/admin/users/list.js</code></p>
<p>... using a route of /admin/users on the same page that uses the list.js file will require the use of a trailing slash on all routes and links.  The browser already learned that '/admin/users' is folder.  Because folders were originally denoted by a trailing slash in a url, the browser will correct the url to be '/admin/users/'.  While it is possible to add the trailing slash in routes and listen for them, any link to the page that omits the trailing slash will not trigger the route handler.</p>

</section>

    		
    	

    </article>
  </div>
</div>

  <footer><p>CanJS is part of <a href="http://donejs.com">DoneJS</a>. Created and maintained by the open source team at <a href="http://bitovi.com">Bitovi</a>. <strong>Currently v3.0.0.</strong></p></footer>
	<script type="text/javascript">
		var docObject = {"content":"<div class=\"main-container\">\n  \n  \t<nav class=\"sidebar\">\n    \n        \n\t<ul>\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               parent\n                               expanded\">\n\t\t\t\t\t\t<a class=\"page\"\n\t\t\t\t\t\t\thref=\"can-core.html\">\n\t\t\t\t\t\t\tCore\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t<ul>\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-component.html\">\n\t\t\t\t\t\t\tcan-component\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-compute.html\">\n\t\t\t\t\t\t\tcan-compute\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-connect.html\">\n\t\t\t\t\t\t\tcan-connect\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-construct.html\">\n\t\t\t\t\t\t\tcan-construct\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-define.html\">\n\t\t\t\t\t\t\tcan-define\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-define/list/list.html\">\n\t\t\t\t\t\t\tcan-define/list/list\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-define/map/map.html\">\n\t\t\t\t\t\t\tcan-define/map/map\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"function\"\n\t\t\t\t\t\t\thref=\"can-route.html\">\n\t\t\t\t\t\t\tcan-route\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"current\n                               parent\n                               expanded\">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-route-pushstate.html\">\n\t\t\t\t\t\t\tcan-route-pushstate\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-set.html\">\n\t\t\t\t\t\t\tcan-set\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-stache.html\">\n\t\t\t\t\t\t\tcan-stache\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"module\"\n\t\t\t\t\t\t\thref=\"can-stache-bindings.html\">\n\t\t\t\t\t\t\tcan-stache-bindings\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t</ul>\n\n\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"page\"\n\t\t\t\t\t\t\thref=\"can-ecosystem.html\">\n\t\t\t\t\t\t\tEcosystem\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"page\"\n\t\t\t\t\t\t\thref=\"can-infrastructure.html\">\n\t\t\t\t\t\t\tInfrastructure\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"page\"\n\t\t\t\t\t\t\thref=\"can-legacy.html\">\n\t\t\t\t\t\t\tLegacy\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\t<li class=\"\n                               \n                               \">\n\t\t\t\t\t\t<a class=\"page\"\n\t\t\t\t\t\t\thref=\"guides.html\">\n\t\t\t\t\t\t\tGuides\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\n\t\t\t\t\t</li>\n\t\t\t\t\n\n\t\t\t\n\t\t\n\t</ul>\n\n\n    \n</nav>\n  \n\n  <div class=\"content-container\">\n    <article>\n    \t\n    \t\t<section class=\"title\">\n\t<h1>can-route-pushstate</h1>\n</section>\n\n    \t\n\n        \n\n    \t\n    \t\t\n    \t\t\t<section class=\"description\">\n    <p>Changes <a href=\"https://github.com/canjs/can-route\">can-route</a> to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history\">pushstate</a>\nto change the window's <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URLUtils.pathname\">pathname</a> instead\nof the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URLUtils.hash\">hash</a>.</p>\n<pre><code class=\"language-js\">var route = require(&quot;can-route-pushstate&quot;);\n\nroute(&quot;:page&quot;, { page: &quot;home&quot; });\nroute.ready();\n\nroute.attr(&quot;page&quot;, &quot;user&quot;);\n\nlocation.pathname; // -&gt; &quot;/user&quot;\n</code></pre>\n\n</section>\n\n    \t\t\n    \t\n\n    \n    \n    \n    <div class=\"signature\">\n  <h2 class=\"signature-title\"><code>Object</code></h2>\n  \n  \n  \n  \n  \n  \n  \n  <div class=\"options\">\n  <h3>Options</h3>\n    <ul>\n    \n      <li>\n        <b>The</b> <code>{Object}</code>:\n        <p>pushstate object comprises several properties that configure the behavior of <a href=\"can-route.html\">can-route</a> to work with <code>history.pushstate</code>.</p>\n\n      </li>\n    \n    </ul>\n  </div>\n  \n</div>\n    \n    \n    \n\n\n    \t\n    \t\t\n    \t\t\t<section class=\"body\">\n    <h2>Use</h2>\n<p>The pushstate plugin uses the same API as <a href=\"can-route.html\">can-route</a>. To start using pushstate plugin all you need is to import <code>can-route-pushstate</code>, it will set itself as default binding on [can.route].</p>\n<p>You can check current binding by inspecting <code>route.currentBinding</code>, the default value is <code>&quot;hashchange&quot;</code>.</p>\n<h3>Creating and changing routes</h3>\n<p>To <a href=\"route.html#section_CreatingaRoute\">create</a> route use <code>route(url, defaults)</code> like:</p>\n<pre><code class=\"language-js\">route(&quot;:page&quot;, {page: 'homepage'});\nroute(&quot;contacts/:username&quot;);\nroute(&quot;books/:genre/:author&quot;);\nroute.ready(); // do not forget to initialize can-route\n</code></pre>\n<p>Do not forget to <a href=\"route.ready.html\">initialize</a> can-route after creating all routes, do it by calling <code>route.ready()</code>.</p>\n<p>List of defined routes is contained in <code>route.routes</code>, you can examine current route state by calling:</p>\n<pre><code class=\"language-js\">route.attr(); //-&gt; {page: &quot;homepage&quot;, route: &quot;:page&quot;}\n</code></pre>\n<p>After creating routes and initializing can-route you can update current route by calling <code>route.attr(attr, newVal)</code>:</p>\n<pre><code class=\"language-js\">route.attr('page', 'about');\nroute.attr(); //-&gt; {page: &quot;about&quot;, route: &quot;:page&quot;}\n\n// without cleaning current route state\nroute.attr('username', 'veljko');\nroute.attr(); //-&gt; {page: &quot;about&quot;, route: &quot;:page&quot;, username: 'veljko'}\n\n// with cleaning current can-route state\nroute.attr({username: 'veljko'}, true);\nroute.attr(); //-&gt; {username: &quot;veljko&quot;, route: &quot;contacts/:username&quot;}\n</code></pre>\n<p>To update multiple attributes at once pass hash of attributes to <code>route.attr(hashOfAttrs, true)</code>. Pass <code>true</code> as second argument to clean up current state.</p>\n<pre><code class=\"language-js\">route.attr({genre: 'sf', author: 'adams'}, true);\nroute.attr(); //-&gt; {genre: &quot;sf&quot;, author: &quot;adams&quot;, route: &quot;books/:genre/:author&quot;}\n</code></pre>\n<p><code>window.location</code> acts as expected:</p>\n<pre><code class=\"language-js\">window.location.pathname; //-&gt; &quot;/books/sf/adams&quot;\nwindow.location.hash; //-&gt; &quot;&quot;, hash remains unchanged\n</code></pre>\n<p>To generate urls use <code>route.url({attrs})</code>:</p>\n<pre><code class=\"language-js\">route.url({username: 'justinbmeyer'}); //-&gt; '/contacts/justinbmeyer'\n</code></pre>\n<h3>Listening changes on matched route</h3>\n<p>As can-route is basically a <a href=\"can-map.html\">can-map</a> that represents <code>window.location.pathname</code>, you can bind on it in the same way you would on any can.Map object.</p>\n<p>To listen on any changes on <code>route</code> use <code>route.bind('change', callback)</code>, the following params will be passed to callback function:</p>\n<pre><code class=\"language-js\">route.bind('change', function(ev, attr, how, newVal, oldVal) {\n    //-&gt; ev:     {EventObject}\n    //-&gt; attr:   'username'\n    //-&gt; how:    'change'\n    //-&gt; newVal: 'veljko'\n    //-&gt; oldVal: undefined\n});\n\nroute.attr({username: 'veljko'}, true);\n</code></pre>\n<p>You can also bind to specific attribute on can-route:</p>\n<pre><code class=\"language-js\">route.bind('username', function(ev, newVal, oldVal) {\n    //-&gt; ev:     {EventObject}\n    //-&gt; newVal: 'nikica'\n    //-&gt; oldVal: 'veljko'\n});\n\nroute.attr({username: nikica}, true);\n</code></pre>\n<h3>Using different pathname root</h3>\n<p>Pushstate plugin has one additional property, <code>route.bindings.pushstate.root</code>, which specifies the part of that pathname that should not change. For example, if we only want to have pathnames within <code>http://example.com/contacts/</code>, we can specify a root like:</p>\n<pre><code class=\"language-js\">route.bindings.pushstate.root = &quot;/contacts/&quot;\nroute(&quot;:page&quot;);\nroute.url({page: &quot;list&quot;}) //-&gt; &quot;/contacts/list&quot;\nroute.url({foo: &quot;bar&quot;})   //-&gt; &quot;/contacts/?foo=bar&quot;\n</code></pre>\n<p>Now, all routes will start with <code>&quot;/contacts/&quot;</code>, the default <code>route.bindings.pushstate.root</code> value is <code>&quot;/&quot;</code>.</p>\n<h2>Planning route structure</h2>\n<p>Complications can arise if your route structure mimics the folder structure inside your app's public directory.  For example, if you have a folder structure like the one in this url for your admin app...</p>\n<p><code>/admin/users/list.js</code></p>\n<p>... using a route of /admin/users on the same page that uses the list.js file will require the use of a trailing slash on all routes and links.  The browser already learned that '/admin/users' is folder.  Because folders were originally denoted by a trailing slash in a url, the browser will correct the url to be '/admin/users/'.  While it is possible to add the trailing slash in routes and listen for them, any link to the page that omits the trailing slash will not trigger the route handler.</p>\n\n</section>\n\n    \t\t\n    \t\n\n    </article>\n  </div>\n</div>\n","src":{"path":"node_modules/can-route-pushstate/can-route-pushstate.md"},"description":"Changes [can-route](https://github.com/canjs/can-route) to use [pushstate](https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history)\nto change the window's [pathname](https://developer.mozilla.org/en-US/docs/Web/API/URLUtils.pathname) instead\nof the [hash](https://developer.mozilla.org/en-US/docs/Web/API/URLUtils.hash).\n\n```js\nvar route = require(\"can-route-pushstate\");\n\nroute(\":page\", { page: \"home\" });\nroute.ready();\n\nroute.attr(\"page\", \"user\");\n\nlocation.pathname; // -> \"/user\"\n```\n\n","type":"module","title":"","types":[{"type":"Object","options":[{"name":"The","description":"pushstate object comprises several properties that configure the behavior of [can-route] to work with `history.pushstate`.\n","types":[{"type":"Object","options":[]}]}]}],"name":"can-route-pushstate","parent":"can-core","download":"can/route/pushstate","link":"../docco/route/pushstate/pushstate.html docco","comment":" "};
	</script>

	
		<script>
		  steal = {
		    instantiated: {
		      "bundles/bit-docs-site/static.css!$css" : null
		    }
		  }
		</script>
		<script type='text/javascript'
				data-main="bit-docs-site/static"
				src="./static/node_modules/steal/steal.production.js"></script>
	
</body>

</html>
